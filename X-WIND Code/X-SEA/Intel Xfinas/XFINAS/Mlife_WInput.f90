      Subroutine WriteMLifeInput
      
      IMPLICIT REAL*8 (A-H,O-Z)
      IMPLICIT INTEGER*4 (I-N)
      
      
      NUMBER_OF_EXPONENT = 2
      
      
      WRITE(5043,1) !==============================================================================================================================================================================
      WRITE(5043,2) !==============================================================================================================================================================================
      WRITE(5043,3) !==============================================================================================================================================================================
      WRITE(5043,4) !==============================================================================================================================================================================
      WRITE(5043,5) !==============================================================================================================================================================================
      WRITE(5043,6) !==============================================================================================================================================================================
      WRITE(5043,7) !==============================================================================================================================================================================
      WRITE(5043,8) !==============================================================================================================================================================================
      WRITE(5043,9) !==============================================================================================================================================================================
      WRITE(5043,10)!==============================================================================================================================================================================
      WRITE(5043,11)!===========      ==========================      ===========      ==========================================                   =============================================
      WRITE(5043,12)!===========       ========================       ===========      ========================================                     =============================================
      WRITE(5043,13)!===========         =====================        ===========      ======================================      ================================================================
      WRITE(5043,14)!===========           =================          ===========      =====================       ==========      ================================================================
      WRITE(5043,15)!===========             ==============           ===========      =====================       ==========      ================================================================
      WRITE(5043,16)!===========              ============            ===========      =====================       ==========      ================================================================
      WRITE(5043,17)!===========               ==========             ===========      ======================================      ================================================================
      WRITE(5043,18)!===========      ===        =======     ===      ===========      ======================================                   ==========                 ========================
      WRITE(5043,19)!===========      =====      =====       ===      ===========      =====================       ==========                   ==========                 ========================
      WRITE(5043,20)!===========      =======               ====      ===========      =====================       ==========      =======================      ===================================
      WRITE(5043,21)!===========      ==========          ======      ===========      =====================       ==========      =======================      ===================================
      WRITE(5043,22)!===========      ==========================      ===========      =====================       ==========      =======================      ===================================
      WRITE(5043,23)!===========      ==========================      ===========      =====================       ==========      =======================      ===================================
      WRITE(5043,24)!===========      ==========================      ===========      =====================       ==========      =======================                 ========================
      WRITE(5043,25)!===========      ==========================      ===========      =====================       ==========      =======================                 ========================
      WRITE(5043,26)!===========      ==========================      ===========      =====================       ==========      =======================      ===================================
      WRITE(5043,27)!===========      ==========================      ===========      =====================       ==========      =======================      ===================================
      WRITE(5043,28)!===========      ==========================      ===========      =====================       ==========      =======================      ===================================
      WRITE(5043,29)!===========      ==========================      ===========      =====================       ==========      =======================      ===================================
      WRITE(5043,30)!===========      ==========================      ===========                   ========       ==========      =======================                 ==========    ==========
      WRITE(5043,31)!===========      ==========================      ===========                   ========       ==========      =======================                 ==========    ==========
      WRITE(5043,32)!==============================================================================================================================================================================
      WRITE(5043,33)!==============================================================================================================================================================================
      WRITE(5043,34)!============================================================================================================================================================================== 
      WRITE(5043,35)!============================================================================================================================================================================== 
      WRITE(5043,36)!============================================================================================================================================================================== 
      WRITE(5043,37)!============================================================================================================================================================================== 
      WRITE(5043,38)!============================================================================================================================================================================== 
      WRITE(5043,39)!============================================================================================================================================================================== 
      WRITE(5043,40)!============================================================================================================================================================================== 
      WRITE(5043,41)!============================================================================================================================================================================== 
      WRITE(5043,42)!============================================================================================================================================================================== 
      WRITE(5043,43)!============================================================================================================================================================================== 
      WRITE(5043,44)!============================================================================================================================================================================== 
      WRITE(5043,45)!============================================================================================================================================================================== 
      WRITE(5043,46)!============================================================================================================================================================================== 
      WRITE(5043,47)!============================================================================================================================================================================== 
      WRITE(5043,48)!============================================================================================================================================================================== 
      WRITE(5043,49)!============================================================================================================================================================================== 
      WRITE(5043,50)!============================================================================================================================================================================== 
      WRITE(5043,51)!============================================================================================================================================================================== 
      WRITE(5043,52)!============================================================================================================================================================================== 
      WRITE(5043,53)!============================================================================================================================================================================== 
      WRITE(5043,54)!============================================================================================================================================================================== 
      WRITE(5043,55)!============================================================================================================================================================================== 
      WRITE(5043,56)!============================================================================================================================================================================== 
      WRITE(5043,57)!============================================================================================================================================================================== 
      WRITE(5043,58)!============================================================================================================================================================================== 
      WRITE(5043,59)!============================================================================================================================================================================== 
      WRITE(5043,60)!============================================================================================================================================================================== 
      WRITE(5043,61)!============================================================================================================================================================================== 
      WRITE(5043,62)!============================================================================================================================================================================== 
      WRITE(5043,63)!============================================================================================================================================================================== 
      WRITE(5043,64)!============================================================================================================================================================================== 
      WRITE(5043,65)!============================================================================================================================================================================== 
      WRITE(5043,66)!============================================================================================================================================================================== 
      WRITE(5043,67)!==============================================================================================================================================================================
          
        
    !==============================================================================================================================================================================
    !============
    !============  INPUT DATA MLIFE 
    !============
    !===============================================================================================================================================================================
        
1     format("-----  MLife version 1.0 Input File  -------------------------------------------                                    ")   
2     format("Test #01 Baseline test                                                                                              ") 
3     format("-----  Job Options  ------------------------------------------------------------                                    ")     
4     format("true              EchoInp           Echo input to <rootname>.echo as this file is being read.                       ") 
5     format("false             StrNames          Use channel names following a '$' instead of numbers when specifying channels in") 
6     format("false             OutData           Output modified data array after scaling and calculated channels. (currently una") 
7     format("""%11.3g""          RealFmt           Format for outputting floating-point values.                                  ") 
8     format("""FatigueMlife""      	  RootName          Root name for output files.                                             ")         
9     format("-----  Input-Data Layout  ------------------------------------------------------                                    ")  
10    format("0                 TitleLine         The row with the file title on it (zero if no title is available).              ")
11    format("7                 NamesLine         The row with the channel names on it (zero if no names are available or are spec")     
12    format("0                 UnitsLine         The row with the channel units on it (zero if no units are available or are spec")  
13    format("9                 FirstDataLine     The first row of data.                                                          ")  
14    format("0                 NumChans          The number of channels in each input file.                                      ")  
15    format("ChanTitle    ChanUnits    Scale  Offset   PSF_Type  NumCols rows of data follow.  Title and units strings must be 10") 
16    format("-----  Calculated Channels  ----------------------------------------------------                                    ")      
17    format("0                 NumCChan          The number calculated channels to generate.                                     ")
18    format("1234567890        Seed              The integer seed for the random number generator (-2,147,483,648 to 2,147,483,64")
19    format("Col_Title   Units    Equation       Put each field in quotes.  Titles and units are limited to 10 characters.  NumCC")
20    format("-----  Load Roses  -------------------------------------------------------------                                    ")
21    format("0                 nLoadRoses        The number of load roses to generate.                                           ")
22    format("Rose Name     Units    Channel1       Channel2     nSectors                                                         ")
23    format("-----  Time and Wind Speed  ----------------------------------------------------                                    ")
24    format("1                 TimeChan          The channel containing time.                                                    ")
25    format("2                 WSChan            The primary wind-speed channel (used for mean wind speed and turbulence intensit")
26    format("-----  Statistics and Extreme Events  ------------------------------------------                                    ")
27    format("true              DoStats           Generate statistics of all the channels.                                       ")
28    format("false             WrStatsTxt        Write the stats to a text file?                                                 ")
29    format("false             WrStatsXLS        Write the stats to an Excel file?                                               ")
30    format("1                NumSFChans        Number of channels that will have summary statistics generated for them.         ")
31    format("5                SFChans           List of channels that will have summary statistics generated for them.  Must num")
32    format("-----  Fatigue  ----------------------------------------------------------------                                    ")
33    format("1                 nFatigueChannels    The number of rainflow channels.  Next six lines ignored if zero.             ")
34    format("0.0               FiltRatio           The fraction of the maximum range of each channel used as a cutoff range for t")
35    format("630720000         DesignLife          Number of seconds in the design lifetime (20 years = 630720000 seconds).      ")
36    format("1                 Availability        Fraction of the design life the turbine is operating when winds are between Vi")
37    format("false              BinCycles           Bin the rainflow cycles?                                                     ")
38    format("0.5               UCMult              Multiplier for binning unclosed cycles.  (0 discards, 1 counts as a full cycle")
39    format("true              DoShortTerm         Compute simple (unweighted) damage-equivalent loads and damage rates.         ")
40    format("true             DoLife              Do lifetime-related calculations?                                              ")
41    format("true             DoAggregate         Compute a DELs and a damage result based on an aggregate of all the input files")
42    format("2                 WeibullShape        Weibull shape factor. If WeibullShape=2, enter the mean wind speed for Weibull")
43    format("10                WeibullScale        Weibull scale factor. If WeibullShape<>2.  Otherwise, enter the mean wind spee")
44    format("3                 WSin                Cut-in wind speed for the turbine.                                            ")
45    format("21                WSout               Cut-out wind speed for the turbine.                                           ")
46    format("31                WSmax               Maximum  wind speed value for the wind-speed bins.                            ")
47    format("2                 WSMaxBinSize        Maximum width of a wind-speed bin.                                            ")
48    format("true              WrShortTermTxt      Write short-term results to plain-text files?                                 ")
49    format("false             WrShortTermXLS      Write short-term resultsto an Excel workbook?                                 ")
50    format("true              WrLifeTxt           Write lifetime results to plain-text files?                                   ")
51    format("false             WrLifeXLS           Write lifetime results to an Excel workbook?                                 ")
52    format("1                 EquivalentFrequency The frequency of the damage equivalent load (Hz)                              ")
53    format("true              DEL_AsRange         true = report DELs as a range value,  false = report as a one-sided amplitude ")
54    format("3                 DEL_Type            1 = fixed mean, 2 = zero mean, 3 = both                                       ")
55    format("2                 GoodmanFlag         0 = no Goodman correction, 1 = use Goodman correction, 2 = compute results wit")
56    format("Channel#  NSlopes  SNslopeLst      BinFlag  MaxBinWidth/Number  TypeLMF     LUlt    BinWidth not used when BinCycles")
57    format("    5       2        3 5           BW		         1000          WM       100000                                  ") 
58    format("1                 nGroups             Number of fatigue groups                                                      ")
59    format("Group Name  NChannels      ChannelList                                                                              ")
60    format("'FATIGUE'        1              1                                                                                   ")
61    format("-----  Input Files  ------------------------------------------------------------                                    ")
62    format("1                 FileFormat         Format of input files.  1 = FAST ascii, 2 = FAST binary                        ")
63    format("1  1.1   1.3   1.5   1.7    (Weibull-Weighted Normal Operation: NumNormFiles, PSF1, PSF2, PSF3, PSF4)               ")
64    format("""DLC_INPUT.out""                                                                                            ")
65    format("0  1.1   1.3   1.5   1.7    (Weibull-Weighted Idling: NumIdleFiles, PSF1, PSF2, PSF3, PSF4)                         ")
66    format("0  1.2   1.3   1.4   1.6    (Discrete Events: NumDiscFiles, PSF1, PSF2, PSF3, PSF4)                                 ")
67    format("==EOF==                             DO NOT REMOVE OR CHANGE.  MUST COME JUST AFTER LAST LINE OF VALID INPUT.        ")
                                                                                                                                                                   
    !===============================================================================================================================================================================

      Return
      End Subroutine
    !===============================================================================================================================================================================
      Subroutine WriteMLifeLoadResopnseInput
      
      IMPLICIT REAL*8 (A-H,O-Z)
      IMPLICIT INTEGER*4 (I-N)
      
      WRITE(5044,*) 
      WRITE(5044,1) 
1     FORMAT("These predictions were generated by FAST (v6.10a-jmj) " )
      WRITE(5044,2) 
2     FORMAT("The aerodynamic calculations were made by AeroDyn" )
      WRITE(5044,*) 
      
      WRITE(5044,3) 
3     FORMAT(" NREL 5.0 MW Baseline Wind Turbine for Use in Offshore Analysis." )      
      WRITE(5044,*)
      
      WRITE(5044,4) 
4     FORMAT("Time      	Wind1VelX 	Wind1VelY 	Wind1VelZ 	Data" )
      
      WRITE(5044,5) 
5     FORMAT("(s)       	(m/s)     	(m/s)     	(m/s)     	(N)" )
      
      
      READ(5045,*)
      READ(5045,*)
      READ(5045,*)
      READ(5045,*)
      READ(5045,*)
      READ(5045,*)
      READ(5045,*)
      READ(5045,*)
      
      WRITE(*,*) "TIME DOMAIN DATA"
      
      REWIND(5019)

      I = 1
      DO 100 WHILE( 1 .NE. 0)             
!      READ(5045,*,END=200) TIMEDATA, WINDVELX, WINDVELY, WINDVELZ , JOINTFAST
          
      ! READ WINDSPEEN
      READ(5045,*,END=200) TIMEDATA, WINDVELX, WINDVELY, WINDVELZ , JOINTFAST    
          
          
      READ(5019,*,END=200) TIMEDATAXSEA, JOINTFASTXSEA

      WRITE(5044,9001) TIMEDATAXSEA, WINDVELX, WINDVELY, WINDVELZ , JOINTFASTXSEA
      !WRITE(5044,9001) TIMEDATAXSEA, JOINTFASTXSEA
9001  FORMAT(f12.4,2X,E12.4,2X,E12.4,2X,E12.4,2X,E12.4,2X,E12.4,2X,E12.4,2X,E12.4,2X,E12.4)
      !WRITE(*,*) I
      I = I + 1
100   CONTINUE
200   CONTINUE
      

      WRITE(*,*) "FINISH WRITE MLife DATA"
      
      
      !STOP
            
      
      Return
      End Subroutine
      !===============================================================================================================================================================================
      !===============================================================================================================================================================================
      !===============================================================================================================================================================================
      !===============================================================================================================================================================================


      